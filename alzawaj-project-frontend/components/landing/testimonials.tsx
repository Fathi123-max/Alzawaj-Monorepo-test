"use client";

import { useState } from "react";
import SwiperComponent from "@/components/common/SwiperComponent";

export function LandingTestimonials() {
  const testimonials = [
    {
      name: "ุฎุฏูุฌู",
      text: "ุงููููุน ุงููุญูุฏ ุงูุฐู ููุชุฒู ุจุงูุถูุงุจุท ุงูุดุฑุนูู ูุฌุงุฏ ูุฆู ุจุงููุฆู ููุนูุง ูู ูุตู ุงููู ุงูุง ูู ูููู ุงููู ููุฎูุฑ ูุงูุญูุงู ูุงู ุงูููุงูุน ุบูุฑู ูุซูุฑ ูููููุง ููุฆู ุจุงููุณุงุฏ ูุงูููุณุฏูู ูุงู ุชุณููุง ุชุญุช ุดุนุงุฑ ุงุณูุงูู ุงูุง ูุฐุง ุงููููุน ุจูุถู ุงููู ุนูููู .ุงุณุฃู ุงููู ุงู ูุญูุธ ุงููุงุฆููู ุนููู ููุซุจุชูู ุนุงูุญู ููุนุตููู ูู ูุถูุงุช ุงููุชู .ูุงุณุฃู ุงููู ููู ูู ุณุฌููุง ููู ุงู ูุฑุฒููู ุงููู ุงูุฒูุฌุงุช ุงูุตุงูุญุงุช ููุฑุฒููู ุงูุงุฒูุงุฌ ุงูุตุงูุญูู ููุฌุนููู ูู ุณุนุฏุงุก ุงูุฏููุง ูุงูุงุฎุฑุฉ ููุซุจุชูู ุนุงูุญู ูููุตุฑ ุจูู ุฏููู ููุญูุธูุง ุฌููุนุง ูู ูู ุดุฑ ุงููู ุงูููู ุตู ูุณูู ูุจุงุฑู ุนูู ูุจููุง ูุญูุฏ ุฌุฒุงูู ุงููู ุฎูุฑุง ุงูุซุฑูุง ูู ุฐูุฑ ุงููู ูุงููุญุงูุธู ุนูู ุงูุตููุงุช ูููุชูุง ุญูุธูู ุงููู .",
      rating: 5,
    },
    {
      name: "ูุงุณููู",
      text: "ูููุน ูู ุฃุฌุฏ ูู ุฎูุงูู ุฅูุง ุงูุชููู ู ุงูุนูู ุงูุฌุงุฏ ููุฌูุน ุจูู ุงููุณูููู ู ุงููุณููุงุช ุจุงุฑู ุงููู ุจูู ุฃุนุฌุจูู ุญุฑุตูู ุงูุดุฏูุฏ ุนูู ุชุทุจูู ููุงุนุฏูู ุฃู ุฃููุง ููู ู ูุนู ุจุงุฑู ุงููู ุจูู ูู ุชุญูุธูู ูููุณ ุงูุดุจุงุจ ู ุงููุชูุงุช ูู ุงููุชู ู ุชุฐููุฑ ููู ููุฑุฃ ุชุนูููู ุฃูู ููุง ูุฏุงูู ุงููู ุฅูู ูููุน ุฅุณูุงูู ูุชุชููุง ูุฐุง ุงูุณุนู ุงูุฐู ุงุจุชุฏุฃุชููู ุจุงูุชููู ููุงููู ูู ุชุฌุฏูุง ุฅูุง ูุง ูุณุฑ ุงูุฎุงุทุฑ ู ุชุทูุจ ูู ุงูููุณ ููุฐุง ูุถู ูุงูู ูู ุงููู ุดูุฑุงู ูููุงุฆููู ุนูู ุงููููุน ูู ููุถูุน ุฎุทุจุชู ุดุฎุตูุงู ุฌุฒุงูู ุงููู ุฎูุฑุง ุฅูู ุฃุฑู ุจูุงุฏุฑ ุฎูุฑ ูุซูุฑุฉ ูุฅู ุฃุฑุงุฏ ุงููู ู ุชูู ููุง ุนูู ุฎูุฑ ุณุฃุนูุฏ ู ุฃุจุดุฑูู ๐",
      rating: 5,
    },
    {
      name: "ูุฏู",
      text: "ุงูุณูุงู ุนูููู ูุฑุญูู ุงููู ูุจุฑูุงุชู ูุฐู ุดูุงุฏู ููู ุงูุงู ุงููู ุณูู ูุญุงุณุจูู ุนูููุง ุงู ูุฐุง ุงููููุน ุงููุงุฆููู ุนููู ุงูุงุณ ูุญุชุฑููู ูููู ุงูุงุฏุจ ูุงูุงุฎูุงู ูุนูุฏูู ุณุนู ุตุฏุฑ ูุชููู ุงู ุดูุงูู ูุญู ุงู ูุดุงูู ุชูุงุจู ุงููุดุชุฑููู ูุนูู ููุจู ูุฐุง ููู ุงููู ูุชุฏูููู ูุฑุงุนูู ุงููู ูู ุงูุชุนุงูู ูุน ุงูุทุฑููู ูุงููู ุงูุนุธูู ูุฐู ุงูุดูุงุฏู ูุญุงุณุจูู ุนูููุง ุงููู ุฌุฒุงูู ุงููู ูู ุฎูุฑ ููุฌุนูู ุงููู ูุฐุง ุงูุนูู ูู ููุฒุงู ุญุณูุงุชูุง ูุงููู ููู ุงูุชูููู ูุงููู ุงูุง ุจุฏุนู ููู ูู ูู ููุจู ูุฑุฒููู ุงููู ุฏุฑุฌุงุช ุนููุง ูู ุงูุฌูู",
      rating: 4,
    },
    {
      name: "ูุคูู ุจุงููู",
      text: "ุงูุณูุงู ุนูููู ูุฑุญูุฉ ุงููู ูุจุฑูุงุชู ุจุงุฑู ุงููู ูู ุงููุงุฆููู ุนูู ูุฐุง ุงููููุน ุงููุจุงุฑู ุงูุญูุฏ ููู ุชูุช ุงูุฑุคูุฉ ุงูุดุฑุนูุฉ ูุญุตู ุชูุงูู ูุณุงููู ุงูุฏุนุงุก ุจุงูุชูููู ูุณุชุฃุฐููู ูู ุญุฐู ุงูุงุณุชูุงุฑุฉ ุงุณุงู ุงููู ุงูุนุธูู ุงู ูููููุง ูุงูุงูู ููุง ูุญุจู ููุฑุถู",
      rating: 5,
    },
    {
      name: "ูููู",
      text: "ุฅู ูููุน ุงูุฒูุงุฌ ุงูุณุนูุฏ ูู ุงููุญูุฏ ุงูุฐู ูุชุตู ุจุงูุฌุฏูุฉ ูุงููุนููู ููุง ุฃู ุชุนุงููู ูุน ุงููุณุชุฎุฏููู ูููููุน ูู ุบุงูุฉ ุงูุฏูุฉ ููููู ุงูุงูุชูุงู ูููุณุชุฎุฏููู ููุชุนุงูููู ูุนูู ุจุงุญุชุฑุงู ููุง ุฃูู ุงููููุน ุงููุญูุฏ ุงูุฐู ูุดุฑู ุนูู ุนูููุฉ ุงูุชุนุงุฑูู ูุงูุง ุงูุตุญ ุจู ูู ูู ูุจุญุซ ุนู ุดุฑูู ุญูุงุชู ุจุทุฑููุฉ ุขููุฉ ููุนูููุฉ ูุฌุฒุงูู ุงููู ุนูุง ุฎูุฑ ุงูุฌุฒุงุก ูุงูุณูุงู",
      rating: 5,
    },
    {
      name: "ุฏุนุงุก",
      text: "ูููุน ุฅุณูุงูู ุฑุงุฆุน ููุฒูุงุฌ ู ุฐูู ูุฃูู ููุงูู ุฑูุญูู ุนููููู ู ูุฌูุนููุง ูู ุงูุญูุงู ูู ุงูุจุฏุงูุฉ ุฅูู ุงูููุงูุฉ ู ูุง ูุนุทู ูุฌุงูุง ููุชุงูููู ู ูู ูู ููู ููุฉ ุฎุจูุซุฉ ุบูุฑ ุงูุฒูุงุฌ ุฃูุตุญ ุงููู ุจูุฐุง ุงูุชุทุจูู ููู ุฃุฑุงุฏ ุฃู ูุชู ุฏููู ูู ุฅุทุงุฑ ุงูููุฌ ุงูุฅุณูุงูู ุ ููุง ุฃู ููุณู ูุฐุง ุงูุชุทุจูู ูุฌูุจู ูู ุงูุญูู ู ุดุฎุต ููุซูู ููู ุฃุนุงููู ุงููู ุนูู ุงูุฎูุฑ ุงูุฐู ุชูุฏููู ููุบูุฑ",
      rating: 5,
    },
    {
      name: "ุญุงุฒู",
      text: "ูุณุงุก ุงูุฎูุฑ ูุง ุงุฎู ุงุจู ุนุจุฏุงููู ุงููุง ุดูุฑุง ุฌุฒููุง ูุชุนุจู ูุนุงูุง ูุงูุญูุฏ ููู ุชูุช ุงูุฑุคูู ุงูุดุฑุนูู ูุชู ุงููุจูู ุจูููุง ูุจุฏุงุฆูุง ุงุชููู ุชูุณุญ ุทูุจูุง ูุทูุจู ูู ุนูู ุงูุตูุญู ุดูุฑุง ุฌุฒููุง ูุญุถุฑุชู ูุฑุจูุง ูุฌุนูู ุจููุฒุงู ุญุณูุงุชู ูุง ุฑุจ",
      rating: 5,
    },
    {
      name: "ุงุจู ุนุงุตู",
      text: "ูููุนูู ูุญุชุฑู ููุฌุงูู ูุฎุฏูู ููุณุงุนุฏุฉ ุงููุณูููู ูู ุงูุฌูุน ุจูู ุฒูุฌูู .ุฏูู ุทูุจ ุงู ุงููุงู ูุงู ูุดุงูุฏุฉ. ุงุนูุงูุงุช ููููู ุงููู ูู ุนูููู ุงููุจูู ูุฌุนูู ุงููู ูู ููุฒุงู ุญุณูุงุชูู",
      rating: 5,
    },
    {
      name: "ูุงูุง",
      text: "ุงููู ูุฌุฒููู ุงูุฎูุฑุ ูู ุงุชุตูุฑ ูุฌูุฏ ููุงูุน ุชุชูู ุงููู ููุฐู ุงูุฏุฑุฌุฉุ ุงููู ูุฌุฒููู ุงูุฎูุฑุ ูุงุฑุฌูุง ูู ุชุชูุณุน ุฏุงุฆุฑุชูู ูุชุดุชูุฑูุง ุงูุซุฑุ ูุฃู ูุง ุชูุนูููู ูู ูุง ูุฌุจ ุงู ุชููู ุนููู ููุงูุน ุงูุฒูุงุฌ ุงูุณุนูุฏ.. ุดูุฑุง๐ผ",
      rating: 4,
    },
  ];

  const [expanded, setExpanded] = useState(
    Array(testimonials.length).fill(false),
  );
  const averageRating = 4.6;
  const totalRatings = 88;
  return (
    <section id="testimonials" className="py-10 bg-white">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center mb-8">
          <h2 className="text-page-title font-heading text-text mb-4 arabic-optimized">
            ๐ฌ ูุงููุง ุนูุง
          </h2>
          <p className="text-body-large text-text-secondary max-w-2xl mx-auto arabic-optimized text-pretty">
            ุงูุฑุฃ ุชุฌุงุฑุจ ุญููููุฉ ูุฃุนุถุงุก ูุฌุญูุง ูู ุงูุนุซูุฑ ุนูู ุดุฑูู ุงูุญูุงุฉ ุนุจุฑ ููุตุชูุง
          </p>
          <div className="flex justify-center items-center gap-2 mt-4">
            <span className="text-lg font-semibold text-yellow-600">
              ูุชูุณุท ุงูุชูููู:
            </span>
            <span className="text-lg font-bold text-yellow-500">
              {averageRating} ูุฌูู
            </span>
            <span className="text-base text-gray-500">
              ({totalRatings} ูู ุงูุชููููุงุช){" "}
            </span>
          </div>
        </div>
        <SwiperComponent
          items={testimonials.map((testimonial, index) => {
            const isExpanded = expanded[index];
            return (
              <div
                key={index}
                className="bg-gray-50 p-6 rounded-lg border border-border flex flex-col justify-between"
              >
                <div>
                  <div className="flex items-center mb-4">
                    <div className="w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white font-semibold font-display">
                      {testimonial.name.charAt(0)}
                    </div>
                    <div className="mr-4">
                      <h4 className="text-arabic-name font-medium text-text arabic-optimized">
                        {testimonial.name}
                      </h4>
                    </div>
                    <div className="mr-auto flex">
                      {[...Array(testimonial.rating)].map((_, i) => (
                        <svg
                          key={i}
                          className="w-5 h-5 text-yellow-400"
                          fill="currentColor"
                          viewBox="0 0 20 20"
                        >
                          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                      ))}
                    </div>
                  </div>
                  <p
                    className={`md:text-body text-body-small text-text-secondary leading-relaxed italic arabic-optimized ${isExpanded ? "h-64 sm:h-40 lg:h-64" : "line-clamp-3"}`}
                  >
                    "{testimonial.text}"
                  </p>
                </div>
                {testimonial.text.length > 120 && !isExpanded && (
                  <div className="flex justify-center mt-4">
                    <button
                      className="px-4 py-2 rounded-lg bg-primary text-white hover:bg-primary-dark transition-colors text-sm font-medium"
                      onClick={() => {
                        setExpanded((prev) => {
                          const arr = [...prev];
                          arr[index] = !arr[index];
                          return arr;
                        });
                      }}
                    >
                      {isExpanded ? "ุฅุฎูุงุก" : "ุงูุฑุฃ ุงููุฒูุฏ"}
                    </button>
                  </div>
                )}
              </div>
            );
          })}
          slidesPerView={1}
          breakpoints={{
            640: { slidesPerView: 1 },
            1024: { slidesPerView: 2 },
            1600: { slidesPerView: 3 },
          }}
          className=""
        />
        <div className="flex justify-center mt-4">
          <button
            className="px-4 py-2 rounded-lg bg-primary text-white hover:bg-primary-dark transition-colors text-sm font-medium"
            onClick={() =>
              window.open(
                "https://alzawajalsaeid.com/what-they-said-about-us/",
                "_blank",
              )
            }
          >
            ุงููุฒูุฏ ูู ูุตุต ุงููุฌุงุญ
          </button>
        </div>
      </div>
    </section>
  );
}
